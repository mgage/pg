##DESCRIPTION
#
#
# tests multiplying a matrix by a large scalar inside BEGIN_TEXT/END_TEXT
# if the scalar is large enough this fails in the presence of texStrings because
# the tex description of $c*$m becomes 1.3\times 10^{6}*\left[\begin{array}{cc}
# 1 &2\cr
# 3 &4
# \end{array}\right] 
# which can't be 
##ENDDESCRIPTION


DOCUMENT();        # This should be the first executable line in the problem.

loadMacros(
   "PGstandard.pl",     # Standard macros for PG language
   "MathObjects.pl",
   #"source.pl",         # used to display problem source button
   "PGcourse.pl",      # Customization file for the course
);

TEXT(beginproblem());
$showPartialCorrectAnswers = 1;

##############################################################
#
#  Setup
#
#
Context("Matrix");

##############################################################
#
#  Text
#
#


# in the current develop branch (10/14/2017) there should be no errors generated.


$m = Matrix([[0,1,0,0,0,0,0,0,0,0.423077],[0.00153846,0,1,-0.00230769,0.00384615,0.00230769,-0.00384615,0,0,6.46154]]);
$c = Real(1300000); # this gives "can't convert a Real Number to a Matrix" when executed inside texStrings mode;
# $c = Real(130000); # this works
#$c = Real(1300000)->value; # this also works
#$m = Matrix([[1,2],[3,4]]);

$string = $c*$m;  # this does not cause errors.

Context()->texStrings;
$string = $c*$m;  # this causes errors.
BEGIN_TEXT

\[ $string \] $PAR

\[\{ $c*$m \} \]

END_TEXT
Context()->normalStrings;


##############################################################
#
#  Answers
#
#



ENDDOCUMENT();        # This should be the last executable line in the problem.